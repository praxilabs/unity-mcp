---
alwaysApply: true
---
# Graph Connection Rules

## CRITICAL CONNECTION RULES

### **MANDATORY NODE CONNECTION REQUIREMENTS**

1. **First Step Node Rule**: 
   - **NEVER connect TO the entry port of a first step node**
   - **MUST connect FROM the exit port of a first step node**
   - First step nodes can only have outgoing connections

2. **End Node Rule**: 
   - **NEVER connect FROM the exit port of an end node**
   - **MUST connect TO the entry port of an end node**
   - End nodes can only have incoming connections

3. **Middle Node Rule**: 
   - **ALL middle nodes MUST have BOTH incoming AND outgoing connections**
   - **Incoming**: From previous node's exit port
   - **Outgoing**: To next node's entry port
   - **Violation**: If a middle node lacks either connection, your logic is 100% incorrect


