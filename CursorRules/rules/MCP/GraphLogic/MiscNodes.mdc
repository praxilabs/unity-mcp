---
description: Animation control, GameObject management, SubGraph execution, and stage progression. Contains AnimationStep, GameObjectSetActiveStep, GoToStageStep, and SubGraphStep patterns.
alwaysApply: false
---
# Misc Nodes

## ğŸ“‹ Overview
Animation Step nodes handle animation control and playback in virtual lab experiments. These nodes are essential for object animations and visual effects.

## ğŸ”§ Available Nodes

### AnimationStep
**Purpose**: Animation control and playback
**Usage**: Object animations, visual effects, click-triggered responses
**Best Practices**:
- Use for visual feedback and effects
- **MANDATORY**: When user mentions "click makes animation", implement ClickStep â†’ AnimationStep
- Always connect AnimationStep.exit to maintain execution flow
- Use animation triggers over full clips when possible

### GameObjectSetActiveStep
**Purpose**: Show and Hide GameObjects at scene.
**Usage**: when you are requested to show or hide objects at scene.
**Best Practices**:
- use it in the context of the request.

### GoToStageStep
**Purpose**: ending the current stage and starting another stage.
**Usage**: end of a stage, skipping stages.
**Common Mistakes**: Don't use The GoToStageStep for marking the current Step as Finished instead use ProgressMapAutoNextStep, only use GoToStageStep for ending the current **STAGE** and not the Step.

## ğŸ—ï¸ Common Patterns

### Animation Sequence Pattern
```
AnimationStep (Animation 1) â†’ DelayStep â†’ AnimationStep (Animation 2) â†’ Continue
```

### Interactive Animation Pattern
```
UserAction â†’ AnimationStep (Response animation) â†’ ShowMessage (Animation complete) â†’ Continue
```


### Visual Feedback Pattern
```
Action â†’ AnimationStep (Visual feedback) â†’ Continue
```

### Animation with Sound Pattern
```
AnimationStep (Visual effect) â†’ AudioStep (Sound effect) â†’ Continue
```

### Click ObjectA to Activate/Show Object ObjectB
```
ClickStep (ObjectA) â†’  GameObjectSetActiveStep (ObjectB, True) 
```
### Starting an experiment by showing objects
```
Start â†’ GameObjectSetActiveStep (Object, True) â†’ Continue
```

### SubGraph Modular Execution Pattern
```
SubGraphStep (Safety Tools) â†’ Main Experiment Steps â†’ SubGraphStep (Cleanup)

context: Use SubGraphStep for modular, reusable experiment components
```

### SubGraph Safety Protocol Pattern
```
SubGraphStep (Safety Tools) â†’ UserAction â†’ Continue

context: Include safety protocols as reusable SubGraph components
```

### Multi-Phase Experiment Pattern
```
SubGraphStep (Phase 1) â†’ SubGraphStep (Phase 2) â†’ SubGraphStep (Phase 3) â†’ Continue

context: Break complex experiments into modular, manageable phases
```

### Sequential SubGraph Execution Pattern
```
SubGraphStep (Step_01) â†’ SubGraphStep (Step_01.5) â†’ SubGraphStep (Step_02) â†’ Continue

context: Execute subgraphs in specific sequential order for experiment progression
```

### Exploration to Execution Pattern
```
Exploration_Step (User orientation) â†’ SubGraphStep (Main experiment) â†’ Continue

context: Start with exploration phase before executing main experiment steps
```

### Sequential SubGraph with Hints Pattern
```
SubGraphStep (Step_01) â†’ HintStep (stepNumber: 2) â†’ SubGraphStep (Step_02) â†’ 
HintStep (stepNumber: 3) â†’ SubGraphStep (Step_03) â†’ Continue

context: Execute subgraphs sequentially with hint guidance between phases
```

### Multi-Step SubGraph Execution Pattern
```
SubGraphStep (Step_01) â†’ SubGraphStep (Step_02) â†’ SubGraphStep (Step_03) â†’ 
SubGraphStep (Step_04) â†’ SubGraphStep (Step_05) â†’ SubGraphStep (Step_06) â†’ Continue

context: Execute multiple subgraph steps in sequence for complex experiment phases
```

### SubGraph with Auto Progress Pattern
```
SubGraphStep (Complete phase) â†’ ProgressMapAutoNextStep â†’ SubGraphStep (Next phase) â†’ Continue

context: Use automatic progress navigation between subgraph phases
```




## âš ï¸ Common Mistakes

1. **Incomplete animation implementation**: When user mentions "click makes animation", implement ClickStep â†’ AnimationStep, not just ClickStep
2. **Missing object verification**: Always verify object exists in registry
3. **Wrong animation timing**: Use appropriate animation durations
4. **Missing visual feedback**: Provide clear animation responses

## ğŸ” Debugging Tips

1. **Test misc operations** one step at a time
2. **Verify object states** before and after operations
3. **Check object references** exist and are valid
4. **Use DelayStep** to slow down for debugging
5. **Monitor operations** with console logs
6. **Test sequences** end-to-end
7. **Validate results** and visual feedback
8. **Check dependencies** and prerequisites

