---
description: Automatically handles progress tracking and navigation to the next step
alwaysApply: false
---

<rule>
  <meta>
    <title>ProgressMapAutoNextStep</title>
    <description>Automatically handles progress tracking and navigation to the next step</description>
    <created-at utc-timestamp="1744240920">January 8, 2025, 12:00 PM UTC</created-at>
    <last-updated-at utc-timestamp="1744240920">January 8, 2025, 12:00 PM UTC</last-updated-at>
    <applies-to>
      <file-matcher glob="">All files that this rule can attach to</file-matcher>
      <action-matcher action="create-xnode-node">Triggered when creating a new ProgressMapAutoNextStep Node using the UnityMCP</action-matcher>
    </applies-to>
  </meta>
  <requirements>
      <setup-instructions priority="critical">
      <description>ProgressMapAutoNextStep marks the current step as finished and advances to the next step automatically for seamless step progression in virtual lab experiments. Use for end of step/phase to move forward without manual indices.</description>
    </setup-instructions>
    <requirement priority="critical">
      <description>ProgressMapAutoNextStep marks the current step as finished and advances to the next step automatically for seamless step progression. Use for end of step/phase to move forward without manual indices.</description>
      <examples>
        <example title="Auto Progress Navigation">
          <correct-example title="Proper auto progress usage" conditions="Need automatic step progression" expected-result="Seamless progression to next step" correctness-criteria="Uses ProgressMapAutoNextStep for automatic navigation">SubGraphStep (Complete phase) → ProgressMapAutoNextStep → SubGraphStep (Next phase)</correct-example>
          <incorrect-example title="Improper auto progress usage" conditions="Need automatic step progression" expected-result="Seamless progression to next step" incorrectness-criteria="Uses manual step when auto progression is appropriate">SubGraphStep (Complete phase) → ProgressMapManualNextStep (stepNumber: 2)</correct-example>
        </example>
      </examples>
    </requirement>
    <requirement priority="high">
      <description>ProgressMapAutoNextStep operates on current progress context with no parameters required. Progress map must be properly configured and used within a valid step context with next step available.</description>
      <examples>
        <example title="Context Requirements">
          <correct-example title="Proper context usage" conditions="Using ProgressMapAutoNextStep" expected-result="Successful automatic progression" correctness-criteria="Used within valid step context with configured progress map">ProgressMapAutoNextStep (no parameters) → Next step automatically</correct-example>
          <incorrect-example title="Improper context usage" conditions="Using ProgressMapAutoNextStep" expected-result="Successful automatic progression" incorrectness-criteria="Used without proper progress map configuration">ProgressMapAutoNextStep without progress map setup</correct-example>
        </example>
      </examples>
    </requirement>
    <requirement priority="critical">
      <description>Use ProgressMapAutoNextStep for step progression only, not stage transitions. Advances to next step automatically without manual indices and marks current step as finished before advancing.</description>
      <examples>
        <example title="Step Progression vs Stage Transitions">
          <correct-example title="Proper step progression usage" conditions="Need step progression within stage" expected-result="Step progression within current stage" correctness-criteria="Uses for step progression, not stage transitions">SubGraphStep (Step_01) → ProgressMapAutoNextStep → SubGraphStep (Step_02)</correct-example>
          <incorrect-example title="Improper stage transition usage" conditions="Need stage transition" expected-result="Stage transition to different stage" incorrectness-criteria="Uses for stage transition instead of step progression">SubGraphStep (Stage_01) → ProgressMapAutoNextStep → SubGraphStep (Stage_02)</correct-example>
        </example>
      </examples>
    </requirement>
    <requirement priority="medium">
      <description>Use sequential auto progress pattern for multiple steps requiring automatic progression. Each step completion triggers automatic advancement to the next step.</description>
      <examples>
        <example title="Sequential Auto Progress">
          <correct-example title="Proper sequential auto progress" conditions="Need multiple automatic progressions" expected-result="Automatic progression through multiple steps" correctness-criteria="Uses sequential pattern with multiple ProgressMapAutoNextStep">SubGraphStep (Step_01) → ProgressMapAutoNextStep → SubGraphStep (Step_02) → ProgressMapAutoNextStep → SubGraphStep (Step_03)</correct-example>
          <incorrect-example title="Improper sequential auto progress" conditions="Need multiple automatic progressions" expected-result="Automatic progression through multiple steps" incorrectness-criteria="Mixes auto and manual progression unnecessarily">SubGraphStep (Step_01) → ProgressMapAutoNextStep → SubGraphStep (Step_02) → ProgressMapManualNextStep (stepNumber: 3)</correct-example>
        </example>
      </examples>
    </requirement>
  </requirements>
  <context description="Additional considerations for ProgressMapAutoNextStep">
    This node is essential for seamless step progression in virtual lab experiments. It automatically handles progress tracking and navigation without requiring manual step indices, making it ideal for sequential step completion workflows.
  </context>
  <references>
    <reference as="dependency" href=".cursor/rules/rules.mdc" reason="Follows standard rule format">Base rule format definition</reference>
    <reference as="context" href=".cursor/rules/MCP/GraphLogic/ProgressMap/ProgressMapNodes.mdc" reason="Progress map overview">Progress tracking and navigation control patterns</reference>
  </references>
</rule>
